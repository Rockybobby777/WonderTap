/* ==================== WONDERTAP STYLES ==================== */
/* Psychedelic Alice in Wonderland Theme */

:root {
    --pink: #ff00ff;
    --cyan: #00ffff;
    --gold: #ffd700;
    --purple: #9b59b6;
    --green: #00ff88;
    --orange: #ff6b35;
    --red: #e74c3c;
    --dark: #0a0015;
    --darker: #05000a;
    --card: rgba(20, 10, 40, 0.9);
    --card-light: rgba(40, 20, 60, 0.85);
    
    /* Rarity Colors */
    --common: #95a5a6;
    --rare: #3498db;
    --epic: #9b59b6;
    --legendary: #f39c12;
    --mythic: #e74c3c;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
}

body {
    font-family: 'Nunito', sans-serif;
    background: var(--dark);
    color: white;
    overflow: hidden;
    height: 100vh;
    height: 100dvh;
}

/* ==================== TRIPPY BACKGROUND ==================== */
.trippy-bg {
    position: fixed;
    inset: 0;
    z-index: 0;
    overflow: hidden;
    background: linear-gradient(135deg, #0a0015 0%, #1a0030 30%, #0f0025 60%, #150020 100%);
}

.trippy-bg::before {
    content: '';
    position: absolute;
    width: 400%;
    height: 400%;
    top: -150%;
    left: -150%;
    background: 
        radial-gradient(ellipse at 20% 20%, rgba(155, 89, 182, 0.2) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 80%, rgba(52, 152, 219, 0.2) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 10%, rgba(231, 76, 60, 0.15) 0%, transparent 40%),
        radial-gradient(ellipse at 10% 80%, rgba(46, 204, 113, 0.15) 0%, transparent 40%),
        radial-gradient(ellipse at 90% 30%, rgba(241, 196, 15, 0.15) 0%, transparent 40%),
        radial-gradient(ellipse at 60% 60%, rgba(255, 0, 255, 0.1) 0%, transparent 30%);
    animation: rotateBg 120s linear infinite;
}

@keyframes rotateBg {
    0% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.1); }
    100% { transform: rotate(360deg) scale(1); }
}

/* Wave Distortion Effect */
.wave-distortion {
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
        0deg,
        transparent 0px,
        rgba(255, 0, 255, 0.03) 2px,
        transparent 4px
    );
    animation: waveMove 3s linear infinite;
    pointer-events: none;
}

@keyframes waveMove {
    0% { transform: translateY(0) scaleX(1); }
    50% { transform: translateY(10px) scaleX(1.02); }
    100% { transform: translateY(20px) scaleX(1); }
}

/* Psychedelic Pulse Overlay */
.psychedelic-pulse {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at center, transparent 0%, rgba(255, 0, 255, 0.05) 50%, transparent 100%);
    animation: psychePulse 4s ease-in-out infinite;
    pointer-events: none;
}

@keyframes psychePulse {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 0.6; transform: scale(1.2); }
}

/* Floating Elements Container */
.floating-elements {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
}

.float-item {
    position: absolute;
    animation: floatAround linear infinite;
    opacity: 0.5;
    font-size: 1.5rem;
    filter: blur(0.5px);
}

@keyframes floatAround {
    0% { 
        transform: translateY(100vh) rotate(0deg) scale(0.8); 
        opacity: 0;
    }
    10% { opacity: 0.5; }
    90% { opacity: 0.5; }
    100% { 
        transform: translateY(-100vh) rotate(720deg) scale(1.2); 
        opacity: 0;
    }
}

/* Spiral Animation */
.spiral {
    position: absolute;
    border: 2px solid rgba(255, 0, 255, 0.2);
    border-radius: 50%;
    animation: spiralSpin 15s linear infinite;
}

@keyframes spiralSpin {
    0% { transform: rotate(0deg) scale(0.5); opacity: 0.3; }
    50% { transform: rotate(180deg) scale(1.5); opacity: 0.1; }
    100% { transform: rotate(360deg) scale(0.5); opacity: 0.3; }
}

/* ==================== APP CONTAINER ==================== */
.app {
    position: relative;
    z-index: 10;
    max-width: 480px;
    height: 100vh;
    height: 100dvh;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* ==================== HEADER ==================== */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    background: var(--card);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
    z-index: 100;
}

.logo {
    font-family: 'Bangers', cursive;
    font-size: 1.4rem;
    letter-spacing: 2px;
    background: linear-gradient(135deg, var(--pink), var(--cyan), var(--gold), var(--pink));
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradientShift 3s ease infinite;
    text-shadow: 0 0 30px rgba(255, 0, 255, 0.5);
    white-space: nowrap;
}

@keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

.header-spacer {
    flex: 1;
    min-width: 5px;
}

.currencies {
    display: flex;
    gap: 6px;
}

.currency {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1px;
    padding: 4px 10px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    font-weight: 700;
    font-size: 0.7rem;
    border: 1px solid;
    transition: all 0.3s;
    min-width: 45px;
}

.currency-emoji {
    font-size: 0.85rem;
    line-height: 1;
}

.currency:hover { transform: scale(1.05); }
.currency.wontime { border-color: #00ffcc; color: #00ffcc; background: rgba(0, 255, 204, 0.15); }
.currency.coins { border-color: var(--gold); color: var(--gold); }
.currency.gems { border-color: var(--cyan); color: var(--cyan); }
.currency.stars { border-color: var(--pink); color: var(--pink); }

.header-btn {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    color: white;
    font-size: 1.2rem;
    cursor: pointer;
    transition: all 0.2s;
}

.header-btn:active {
    transform: scale(0.9);
    background: rgba(255, 255, 255, 0.2);
}

/* ==================== INFO BAR ==================== */
.info-bar {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 15px;
    background: rgba(0, 0, 0, 0.4);
    position: relative;
    z-index: 99;
}

.level-section {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1;
}

.level-badge {
    background: linear-gradient(135deg, var(--purple), var(--pink));
    padding: 4px 12px;
    border-radius: 12px;
    font-weight: 800;
    font-size: 0.75rem;
    box-shadow: 0 2px 10px rgba(155, 89, 182, 0.3);
}

.xp-bar {
    flex: 1;
    height: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.xp-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--pink), var(--cyan), var(--gold));
    background-size: 200% 100%;
    animation: xpGlow 2s linear infinite;
    transition: width 0.3s;
    border-radius: 10px;
}

@keyframes xpGlow {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; }
}

.streak-badge {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 5px 12px;
    background: linear-gradient(135deg, var(--orange), #e74c3c);
    border-radius: 12px;
    font-weight: 700;
    font-size: 0.75rem;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 2px 10px rgba(255, 107, 53, 0.3);
}

.streak-badge:active { transform: scale(0.95); }

.hourly-timer {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 5px 12px;
    background: linear-gradient(135deg, var(--green), #27ae60);
    border-radius: 12px;
    font-weight: 700;
    font-size: 0.75rem;
    color: #000;
    cursor: pointer;
    transition: all 0.2s;
}

.hourly-timer.ready {
    animation: pulseGlow 1s infinite;
    box-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
}

@keyframes pulseGlow {
    0%, 100% { transform: scale(1); box-shadow: 0 0 10px rgba(0, 255, 136, 0.3); }
    50% { transform: scale(1.05); box-shadow: 0 0 25px rgba(0, 255, 136, 0.6); }
}

/* ==================== PAGES ==================== */
.page {
    display: none;
    flex: 1;
    flex-direction: column;
    overflow-y: auto;
    overflow-x: hidden;
    position: relative;
    scroll-behavior: smooth;
}

.page.active { display: flex; }

.page::-webkit-scrollbar { width: 4px; }
.page::-webkit-scrollbar-track { background: transparent; }
.page::-webkit-scrollbar-thumb { background: var(--purple); border-radius: 4px; }

.page-content {
    padding: 10px 15px;
    flex: 1;
}

/* ==================== HOME PAGE ==================== */

/* Big WONTIME Display - COMPACT VERSION */
.wontime-big-display-compact {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 6px 15px;
    margin-bottom: 6px;
    background: linear-gradient(135deg, rgba(0, 255, 204, 0.15), rgba(0, 200, 150, 0.1));
    border: 2px solid rgba(0, 255, 204, 0.4);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s;
}

.wontime-big-display-compact:active {
    transform: scale(0.98);
}

.wontime-big-display-compact .wontime-icon {
    font-size: 1.1rem;
}

.wontime-big-display-compact .wontime-value {
    font-size: 1.5rem;
    font-weight: 900;
    color: #00ffcc;
    text-shadow: 0 0 15px rgba(0, 255, 204, 0.6);
    font-family: 'Bangers', cursive;
    letter-spacing: 1px;
}

.wontime-big-display-compact .wontime-label {
    font-size: 0.55rem;
    color: rgba(0, 255, 204, 0.7);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.wontime-img {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid rgba(0, 255, 204, 0.5);
    box-shadow: 0 0 15px rgba(0, 255, 204, 0.4);
}

.wontime-icon-fallback {
    font-size: 1.2rem;
}

.currency-icon {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    object-fit: cover;
    vertical-align: middle;
    margin-right: 4px;
}

.wontime-icon {
    font-size: 1.2rem;
}

.wontime-value {
    font-size: 2rem;
    font-weight: 900;
    color: #00ffcc;
    text-shadow: 0 0 20px rgba(0, 255, 204, 0.6), 0 0 40px rgba(0, 255, 204, 0.3);
    font-family: 'Bangers', cursive;
    letter-spacing: 2px;
}

.wontime-label {
    font-size: 0.65rem;
    color: rgba(0, 255, 204, 0.7);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 3px;
}

/* Compact Quick Grid */
.quick-grid.compact {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 6px;
    margin-bottom: 6px;
}

.quick-btn-mini {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 2px;
    padding: 6px 4px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s;
}

.quick-btn-mini .icon {
    font-size: 1.1rem;
}

.quick-btn-mini .label {
    font-size: 0.55rem;
    font-weight: 600;
    opacity: 0.8;
}

.quick-btn-mini:active {
    transform: scale(0.95);
    background: rgba(255, 255, 255, 0.1);
}

.quick-btn-mini.glow {
    animation: miniGlow 2s infinite;
    border-color: var(--gold);
}

@keyframes miniGlow {
    0%, 100% { box-shadow: 0 0 5px rgba(255, 215, 0, 0.3); }
    50% { box-shadow: 0 0 15px rgba(255, 215, 0, 0.6); }
}

/* Currency Tooltip */
.currency-tooltip {
    position: fixed;
    top: 60px;
    left: 50%;
    transform: translateX(-50%);
    padding: 8px 16px;
    background: rgba(0, 0, 0, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    font-size: 0.75rem;
    color: #fff;
    z-index: 1000;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s;
    text-align: center;
    max-width: 200px;
}

.currency-tooltip.show {
    opacity: 1;
}

/* Original quick-grid for other pages */
.quick-grid:not(.compact) {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    margin-bottom: 10px;
}

.quick-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
    padding: 12px 5px;
    background: var(--card);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    color: white;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
}

.quick-btn:active { transform: scale(0.95); }
.quick-btn .icon { font-size: 1.4rem; }
.quick-btn .label { font-size: 0.65rem; opacity: 0.8; font-weight: 600; }

.quick-btn.glow {
    border-color: var(--gold);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
    animation: glowPulse 2s infinite;
}

.quick-btn .badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--red);
    color: white;
    font-size: 0.6rem;
    padding: 2px 6px;
    border-radius: 10px;
    font-weight: 700;
}

@keyframes glowPulse {
    0%, 100% { box-shadow: 0 0 15px rgba(255, 215, 0, 0.3); }
    50% { box-shadow: 0 0 30px rgba(255, 215, 0, 0.6); }
}

/* ==================== CHESHIRE EYES ==================== */
.cheshire-section {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 70px;
    padding: 10px 0;
    position: relative;
}

.cheshire-eye {
    width: 55px;
    height: 55px;
    background: radial-gradient(circle at 30% 30%, #fff 0%, var(--cyan) 60%, var(--purple) 100%);
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    position: relative;
    box-shadow: 
        0 0 30px var(--cyan),
        0 0 60px var(--pink),
        inset 0 0 20px rgba(255, 255, 255, 0.5);
    animation: eyeFloat 4s ease-in-out infinite;
}

.cheshire-eye:nth-child(2) { animation-delay: -0.5s; }

@keyframes eyeFloat {
    0%, 100% { transform: translateY(0) rotate(-5deg); }
    50% { transform: translateY(-10px) rotate(5deg); }
}

.cheshire-pupil {
    position: absolute;
    width: 26px;
    height: 26px;
    background: radial-gradient(circle, #000 40%, #1a0030 100%);
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    overflow: hidden;
    transition: all 0.1s;
}

.cheshire-pupil::before {
    content: '';
    position: absolute;
    inset: -50%;
    background: conic-gradient(from 0deg, var(--pink), var(--cyan), var(--gold), var(--green), var(--pink));
    animation: pupilSpin 2s linear infinite;
    opacity: 0.9;
}

@keyframes pupilSpin { to { transform: rotate(360deg); } }

.cheshire-smile {
    position: absolute;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 2.5rem;
    opacity: 0;
    transition: all 0.3s;
    filter: drop-shadow(0 0 10px var(--pink));
}

.cheshire-smile.show {
    opacity: 1;
    animation: smileAppear 0.5s ease-out;
}

@keyframes smileAppear {
    0% { transform: translateX(-50%) scale(0) rotate(-20deg); }
    50% { transform: translateX(-50%) scale(1.4) rotate(10deg); }
    100% { transform: translateX(-50%) scale(1) rotate(0deg); }
}

/* ==================== TAP ZONE ==================== */
.tap-zone {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    min-height: 280px;
    cursor: pointer;
}

.smoke-container {
    position: absolute;
    top: 5px;
    left: 50%;
    transform: translateX(-50%);
    width: 180px;
    height: 100px;
    pointer-events: none;
    z-index: 25;
}

.smoke-ring {
    position: absolute;
    border-radius: 50%;
    border: 3px solid;
    opacity: 0;
    left: 50%;
    bottom: 0;
}

.smoke-ring.animate {
    animation: smokeRise 2.5s ease-out forwards;
}

@keyframes smokeRise {
    0% { 
        opacity: 0.9; 
        transform: translateX(-50%) translateY(0) scale(0.3);
        border-color: rgba(255, 255, 255, 0.9);
    }
    30% { border-color: var(--pink); }
    60% { border-color: var(--cyan); }
    100% { 
        opacity: 0; 
        transform: translateX(calc(-50% + var(--drift))) translateY(-100px) scale(2);
        border-color: var(--gold);
    }
}

/* Combo Display */
.combo-display {
    position: absolute;
    top: 5px;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Bangers', cursive;
    font-size: 2rem;
    letter-spacing: 3px;
    color: var(--gold);
    text-shadow: 0 0 20px var(--gold), 0 0 40px var(--orange), 3px 3px 0 #000;
    opacity: 0;
    transition: all 0.2s;
    z-index: 20;
}

.combo-display.show {
    opacity: 1;
    animation: comboBounce 0.3s ease-out;
}

.combo-display.mega {
    font-size: 2.5rem;
    color: var(--pink);
    text-shadow: 0 0 30px var(--pink), 0 0 60px var(--cyan), 0 0 90px var(--gold), 3px 3px 0 #000;
    animation: comboBounce 0.3s ease-out, comboRainbow 0.5s linear infinite;
}

@keyframes comboBounce {
    0% { transform: translateX(-50%) scale(0.5); }
    60% { transform: translateX(-50%) scale(1.5); }
    100% { transform: translateX(-50%) scale(1); }
}

@keyframes comboRainbow {
    0% { filter: hue-rotate(0deg); }
    100% { filter: hue-rotate(360deg); }
}

/* ==================== THE CATERPILLAR ==================== */
.caterpillar {
    position: relative;
    transition: transform 0.1s;
    filter: drop-shadow(0 0 40px rgba(155, 89, 182, 0.7));
}

.caterpillar:active { transform: scale(0.92); }

/* Fever mode - works with all skins */
.caterpillar.fever {
    animation: feverShake 0.08s infinite, feverGlow 0.5s linear infinite !important;
}

@keyframes feverShake {
    0%, 100% { transform: translateX(0) rotate(0deg) scale(1); }
    25% { transform: translateX(-8px) rotate(-5deg) scale(1.02); }
    75% { transform: translateX(8px) rotate(5deg) scale(1.02); }
}

@keyframes feverGlow {
    0% { 
        filter: drop-shadow(0 0 20px var(--pink)) drop-shadow(0 0 40px var(--cyan)) brightness(1.2);
    }
    33% { 
        filter: drop-shadow(0 0 20px var(--cyan)) drop-shadow(0 0 40px var(--gold)) brightness(1.3);
    }
    66% { 
        filter: drop-shadow(0 0 20px var(--gold)) drop-shadow(0 0 40px var(--pink)) brightness(1.2);
    }
    100% { 
        filter: drop-shadow(0 0 20px var(--pink)) drop-shadow(0 0 40px var(--cyan)) brightness(1.2);
    }
}

.caterpillar svg {
    width: 240px;
    height: 240px;
}

/* ==================== BARS SECTION ==================== */
.bars-section {
    padding: 12px 15px;
    background: rgba(0, 0, 0, 0.2);
}

.bar-row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 10px;
}

.bar-row:last-child { margin-bottom: 0; }

.bar-icon { font-size: 1.2rem; width: 28px; text-align: center; }

.bar-container {
    flex: 1;
    height: 22px;
    background: rgba(0, 0, 0, 0.6);
    border-radius: 15px;
    overflow: hidden;
    position: relative;
    border: 1px solid rgba(255, 255, 255, 0.15);
}

.bar-fill {
    height: 100%;
    border-radius: 15px;
    transition: width 0.3s ease;
    position: relative;
}

.bar-fill::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 5px;
    right: 5px;
    height: 6px;
    background: linear-gradient(180deg, rgba(255,255,255,0.4), transparent);
    border-radius: 10px;
}

.bar-fill.energy {
    background: linear-gradient(90deg, #00cc66, var(--green), #00ffaa);
    box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.3), 0 0 15px rgba(0, 255, 136, 0.3);
}

.bar-fill.fever {
    background: transparent;
    box-shadow: none;
}

.bar-fill.fever.active {
    background: linear-gradient(90deg, #ff6b35, var(--orange), var(--pink));
    box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.3), 0 0 15px rgba(255, 107, 53, 0.3);
}

.bar-fill.fever.full {
    background: linear-gradient(90deg, #e74c3c, var(--pink), var(--gold), var(--cyan), var(--pink));
    background-size: 400% 100%;
    animation: feverGradient 1s linear infinite;
    box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.3), 0 0 20px rgba(255, 0, 255, 0.5);
}

@keyframes feverGradient {
    0% { background-position: 0% 50%; }
    100% { background-position: 400% 50%; }
}

.bar-text {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.75rem;
    font-weight: 700;
    text-shadow: 1px 1px 3px #000, -1px -1px 3px #000;
}

.bar-label {
    font-size: 0.8rem;
    font-weight: 600;
    min-width: 55px;
}

/* ==================== PAGE HEADER ==================== */
.page-header {
    padding: 15px;
    text-align: center;
    background: linear-gradient(180deg, rgba(0,0,0,0.4), transparent);
}

.page-title {
    font-family: 'Bangers', cursive;
    font-size: 1.5rem;
    color: var(--cyan);
    margin: 0 0 5px 0;
    letter-spacing: 2px;
}

.page-subtitle {
    font-size: 0.8rem;
    opacity: 0.7;
    margin: 0;
}

.shop-content {
    flex: 1;
    overflow-y: auto;
}

/* ==================== SHOP PAGE - FIXED ==================== */
.shop-tabs {
    display: flex;
    gap: 6px;
    padding: 10px 15px;
    overflow-x: auto;
    background: rgba(0, 0, 0, 0.4);
    position: sticky;
    top: 0;
    z-index: 50;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.shop-tabs::-webkit-scrollbar { display: none; }

.shop-tab {
    padding: 10px 16px;
    background: var(--card);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 20px;
    color: white;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    white-space: nowrap;
    transition: all 0.2s;
    flex-shrink: 0;
}

.shop-tab:active { transform: scale(0.95); }

.shop-tab.active {
    background: linear-gradient(135deg, var(--pink), var(--purple));
    border-color: var(--pink);
    box-shadow: 0 0 15px rgba(255, 0, 255, 0.3);
}

.shop-section {
    display: none;
    padding: 15px;
    padding-bottom: 100px; /* Space for bottom nav */
}

.shop-section.active {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

.shop-item {
    background: var(--card);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: 18px;
    padding: 15px 10px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    overflow: hidden;
}

.shop-item::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, transparent 40%, rgba(255, 255, 255, 0.08) 50%, transparent 60%);
    transform: translateX(-100%);
    transition: transform 0.5s;
}

.shop-item:active::before { transform: translateX(100%); }
.shop-item:active { transform: scale(0.97); }

.shop-item.owned { 
    border-color: var(--green); 
    background: rgba(0, 255, 136, 0.1);
}

.shop-item.equipped { 
    border-color: var(--gold);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
}

.shop-item .equipped-badge {
    position: absolute;
    top: 8px;
    right: 8px;
    background: var(--gold);
    color: #000;
    font-size: 0.6rem;
    padding: 3px 8px;
    border-radius: 10px;
    font-weight: 700;
}

.shop-item .owned-badge {
    position: absolute;
    top: 8px;
    left: 8px;
    background: var(--green);
    color: #000;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    font-size: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
}

.shop-item-rarity {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
}

.shop-item-rarity.common { background: var(--common); }
.shop-item-rarity.rare { background: var(--rare); }
.shop-item-rarity.epic { background: linear-gradient(90deg, var(--purple), var(--pink)); }
.shop-item-rarity.legendary { background: linear-gradient(90deg, var(--gold), var(--orange)); }
.shop-item-rarity.mythic { background: linear-gradient(90deg, var(--red), var(--pink), var(--gold)); animation: mythicShine 2s linear infinite; }

@keyframes mythicShine {
    0% { filter: hue-rotate(0deg) brightness(1); }
    50% { filter: hue-rotate(30deg) brightness(1.3); }
    100% { filter: hue-rotate(0deg) brightness(1); }
}

.shop-item-icon { 
    font-size: 3rem; 
    margin-bottom: 10px;
    display: block;
}

.shop-item-name { 
    font-weight: 700; 
    font-size: 0.9rem; 
    margin-bottom: 4px; 
}

.shop-item-desc { 
    font-size: 0.7rem; 
    opacity: 0.6; 
    margin-bottom: 10px; 
}

.shop-item-price {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 6px 14px;
    background: linear-gradient(135deg, var(--gold), #d4a000);
    border-radius: 15px;
    color: #000;
    font-weight: 700;
    font-size: 0.8rem;
}

.shop-item-price.gems { background: linear-gradient(135deg, var(--cyan), #00a0b0); }
.shop-item-price.stars { background: linear-gradient(135deg, var(--pink), #cc00cc); color: white; }
.shop-item-price.free { background: linear-gradient(135deg, var(--green), #00aa55); }
.shop-item-price.owned { background: rgba(255, 255, 255, 0.2); color: white; }

/* ==================== WHEEL PAGE ==================== */
.wheel-page .page-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 15px;
}

.wheel-header {
    text-align: center;
    margin-bottom: 15px;
}

.wheel-title {
    font-family: 'Bangers', cursive;
    font-size: 2.2rem;
    letter-spacing: 4px;
    background: linear-gradient(135deg, var(--gold), var(--orange), var(--pink), var(--gold));
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradientShift 3s ease infinite;
    margin-bottom: 5px;
}

.wheel-subtitle {
    font-size: 0.9rem;
    opacity: 0.7;
}

.wheel-wrapper {
    position: relative;
    width: 300px;
    height: 300px;
    margin: 15px 0;
}

.wheel-outer-ring {
    position: absolute;
    inset: -12px;
    border-radius: 50%;
    background: conic-gradient(from 0deg, var(--gold), var(--pink), var(--cyan), var(--green), var(--purple), var(--gold));
    animation: ringRotate 8s linear infinite;
    opacity: 0.6;
}

@keyframes ringRotate { to { transform: rotate(360deg); } }

.wheel-pointer {
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 30;
    font-size: 3rem;
    filter: drop-shadow(0 0 15px var(--gold));
    animation: pointerBounce 1s ease-in-out infinite;
}

@keyframes pointerBounce {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(8px); }
}

.wheel {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    position: relative;
    transition: transform 6s cubic-bezier(0.17, 0.67, 0.12, 0.99);
    box-shadow: 
        0 0 0 10px rgba(255, 215, 0, 0.6),
        0 0 50px rgba(155, 89, 182, 0.5),
        inset 0 0 80px rgba(0, 0, 0, 0.6);
    overflow: hidden;
    background: var(--dark);
}

.wheel-segment {
    position: absolute;
    width: 50%;
    height: 50%;
    left: 50%;
    top: 50%;
    transform-origin: 0% 0%;
    overflow: hidden;
}

.wheel-segment-inner {
    position: absolute;
    left: 0;
    top: 0;
    width: 200%;
    height: 200%;
    transform-origin: 0% 0%;
    display: flex;
    align-items: center;
    padding-left: 30px;
}

.wheel-segment-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
    transform: rotate(15deg);
}

.wheel-segment-icon { font-size: 1.4rem; }
.wheel-segment-text { 
    font-size: 0.7rem; 
    font-weight: 700; 
    color: white; 
    text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
}

.wheel-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 70px;
    height: 70px;
    background: linear-gradient(135deg, var(--dark), #2d1b4e);
    border-radius: 50%;
    border: 5px solid var(--gold);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    box-shadow: 0 0 40px rgba(255, 215, 0, 0.6), inset 0 0 30px rgba(0, 0, 0, 0.5);
    z-index: 20;
}

.wheel-actions {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    margin-top: 20px;
    width: 100%;
}

.spin-btn {
    padding: 18px 70px;
    font-family: 'Bangers', cursive;
    font-size: 1.6rem;
    letter-spacing: 4px;
    background: linear-gradient(135deg, var(--pink), var(--purple));
    border: none;
    border-radius: 35px;
    color: white;
    cursor: pointer;
    box-shadow: 0 8px 40px rgba(155, 89, 182, 0.5), 0 0 0 4px rgba(255, 0, 255, 0.3);
    transition: all 0.2s;
}

.spin-btn:active { transform: scale(0.95); }
.spin-btn:disabled { 
    background: #333; 
    color: #666; 
    box-shadow: none; 
    cursor: not-allowed; 
}

.spins-info {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1rem;
}

.spins-count {
    background: var(--card);
    padding: 8px 20px;
    border-radius: 20px;
    font-weight: 700;
    color: var(--gold);
    border: 2px solid var(--gold);
    font-size: 1.1rem;
}

.get-spins-row {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
}

.ad-spin-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 12px 20px;
    background: linear-gradient(135deg, var(--green), #00cc6a);
    border: none;
    border-radius: 25px;
    color: #000;
    font-weight: 700;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s;
}

.ad-spin-btn:active { transform: scale(0.95); }
.ad-spin-btn:disabled { background: #444; color: #888; }

/* ==================== BOTTOM NAV ==================== */
.bottom-nav {
    display: flex;
    justify-content: space-around;
    padding: 10px 5px 15px;
    background: rgba(10, 0, 21, 0.98);
    backdrop-filter: blur(20px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
    z-index: 100;
}

.nav-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    padding: 10px 15px;
    background: none;
    border: none;
    color: rgba(255, 255, 255, 0.7);
    cursor: pointer;
    border-radius: 15px;
    transition: all 0.2s;
    position: relative;
}

.nav-btn.active {
    color: white;
    background: rgba(255, 255, 255, 0.15);
}

.nav-btn .nav-icon { 
    font-size: 1.6rem; 
    filter: brightness(1.2);
}
.nav-btn .nav-label { 
    font-size: 0.7rem; 
    font-weight: 600;
    opacity: 0.9;
}
.nav-btn .icon { font-size: 1.5rem; }
.nav-btn .label { font-size: 0.65rem; font-weight: 600; }

.nav-btn .notif {
    position: absolute;
    top: 5px;
    right: 8px;
    width: 10px;
    height: 10px;
    background: var(--red);
    border-radius: 50%;
    animation: notifPulse 1s infinite;
}

@keyframes notifPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.3); }
}

/* ==================== MODALS ==================== */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.92);
    backdrop-filter: blur(15px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 20px;
}

.modal-overlay.active { display: flex; }

.modal {
    background: linear-gradient(135deg, #2d1b4e, #1a0030);
    border-radius: 25px;
    padding: 25px;
    max-width: 380px;
    width: 100%;
    border: 2px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 0 80px rgba(155, 89, 182, 0.4);
    animation: modalPop 0.3s ease-out;
    max-height: 85vh;
    overflow-y: auto;
}

@keyframes modalPop {
    0% { transform: scale(0.8) translateY(30px); opacity: 0; }
    100% { transform: scale(1) translateY(0); opacity: 1; }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.modal-title {
    font-family: 'Bangers', cursive;
    font-size: 1.5rem;
    letter-spacing: 2px;
    background: linear-gradient(135deg, var(--pink), var(--cyan));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.modal-close {
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    color: white;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.2s;
}

.modal-close:active { 
    background: rgba(255, 255, 255, 0.2); 
    transform: rotate(90deg); 
}

/* ==================== EFFECTS ==================== */
.confetti {
    position: fixed;
    width: 12px;
    height: 12px;
    pointer-events: none;
    z-index: 5000;
    animation: confettiFall 3.5s ease-out forwards;
}

@keyframes confettiFall {
    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(1080deg); opacity: 0; }
}

.float-coin {
    position: fixed;
    pointer-events: none;
    z-index: 1000;
    font-weight: 700;
    text-shadow: 0 0 15px var(--gold);
    animation: floatUp 1.2s ease-out forwards;
}

@keyframes floatUp {
    0% { opacity: 1; transform: translateY(0) scale(1); }
    100% { opacity: 0; transform: translateY(-120px) scale(0.5); }
}

.tap-ripple {
    position: fixed;
    width: 100px;
    height: 100px;
    border: 5px solid;
    border-radius: 50%;
    pointer-events: none;
    z-index: 999;
    animation: rippleExpand 0.7s ease-out forwards;
}

@keyframes rippleExpand {
    0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
    100% { transform: translate(-50%, -50%) scale(2.5); opacity: 0; }
}

/* Effect particles animation */
@keyframes particleFly {
    0% { 
        transform: translate(-50%, -50%) scale(0.5);
        opacity: 1;
    }
    100% { 
        transform: translate(calc(-50% + var(--end-x)), calc(-50% + var(--end-y))) scale(1);
        opacity: 0;
    }
}

.effect-particle {
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
}

/* Lucky Box */
.lucky-box {
    position: fixed;
    bottom: 120px;
    right: 20px;
    width: 65px;
    height: 65px;
    background: linear-gradient(135deg, var(--gold), var(--orange));
    border-radius: 18px;
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 2.2rem;
    cursor: pointer;
    z-index: 500;
    animation: boxBounce 1s ease-in-out infinite, boxGlow 2s ease-in-out infinite;
    box-shadow: 0 0 40px rgba(255, 215, 0, 0.6);
    border: 3px solid rgba(255, 255, 255, 0.3);
}

.lucky-box.active { display: flex; }

@keyframes boxBounce {
    0%, 100% { transform: translateY(0) rotate(-5deg); }
    50% { transform: translateY(-15px) rotate(5deg); }
}

@keyframes boxGlow {
    0%, 100% { box-shadow: 0 0 25px rgba(255, 215, 0, 0.5); }
    50% { box-shadow: 0 0 50px rgba(255, 215, 0, 0.9), 0 0 80px rgba(255, 0, 255, 0.5); }
}

/* ==================== UTILITIES ==================== */
.hidden { display: none !important; }
.text-gold { color: var(--gold); }
.text-cyan { color: var(--cyan); }
.text-pink { color: var(--pink); }
.text-green { color: var(--green); }

/* ==================== CATERPILLAR SKINS ==================== */
.caterpillar.skin-rainbow {
    filter: hue-rotate(0deg);
    animation: rainbowSkin 3s linear infinite;
}
@keyframes rainbowSkin {
    0% { filter: hue-rotate(0deg); }
    100% { filter: hue-rotate(360deg); }
}

.caterpillar.skin-golden {
    filter: sepia(100%) saturate(300%) brightness(1.1) hue-rotate(10deg);
}

.caterpillar.skin-neon {
    filter: brightness(1.3) saturate(1.5);
    box-shadow: 0 0 30px #ff00ff, 0 0 60px #00ffff;
}

.caterpillar.skin-galaxy {
    filter: hue-rotate(240deg) brightness(1.2);
    animation: galaxySkin 4s ease-in-out infinite;
}
@keyframes galaxySkin {
    0%, 100% { filter: hue-rotate(240deg) brightness(1.2); }
    50% { filter: hue-rotate(300deg) brightness(1.4); }
}

.caterpillar.skin-diamond {
    filter: brightness(1.5) contrast(1.1) saturate(0.5);
    box-shadow: 0 0 40px rgba(255, 255, 255, 0.8);
}

.caterpillar.skin-fire {
    filter: sepia(100%) saturate(500%) hue-rotate(-30deg) brightness(1.2);
    animation: fireSkin 0.3s ease-in-out infinite;
}
@keyframes fireSkin {
    0%, 100% { filter: sepia(100%) saturate(500%) hue-rotate(-30deg) brightness(1.2); }
    50% { filter: sepia(100%) saturate(500%) hue-rotate(-20deg) brightness(1.4); }
}

.caterpillar.skin-ice {
    filter: hue-rotate(180deg) brightness(1.3) saturate(1.2);
}

.caterpillar.skin-zombie {
    filter: hue-rotate(90deg) saturate(0.8) brightness(0.9);
}

.caterpillar.skin-alien {
    filter: hue-rotate(120deg) brightness(1.2) saturate(1.5);
}

.caterpillar.skin-cheshire {
    filter: hue-rotate(280deg) saturate(1.3);
    animation: cheshireSkin 2s ease-in-out infinite;
}
@keyframes cheshireSkin {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.caterpillar.skin-madhatter {
    filter: hue-rotate(45deg) saturate(1.4) brightness(1.1);
}

.caterpillar.skin-queen {
    filter: sepia(50%) saturate(200%) hue-rotate(-10deg);
}

.caterpillar.skin-rabbit {
    filter: brightness(1.4) saturate(0.9);
}

.caterpillar.skin-mushroom {
    filter: hue-rotate(330deg) saturate(1.5);
}

.caterpillar.skin-dragon {
    filter: hue-rotate(15deg) saturate(2) brightness(1.1);
    animation: dragonSkin 2s ease-in-out infinite;
}
@keyframes dragonSkin {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.caterpillar.skin-void {
    filter: brightness(0.3) contrast(2);
    box-shadow: 0 0 50px rgba(128, 0, 255, 0.8);
}

.caterpillar.skin-crystal {
    filter: brightness(1.4) saturate(1.2);
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.6), 0 0 60px rgba(255, 0, 255, 0.4);
}

/* New skins */
.caterpillar.skin-clown {
    filter: saturate(1.5) brightness(1.1);
    animation: clownSkin 1s ease-in-out infinite;
}
@keyframes clownSkin {
    0%, 100% { filter: saturate(1.5) brightness(1.1) hue-rotate(0deg); }
    50% { filter: saturate(1.5) brightness(1.2) hue-rotate(20deg); }
}

.caterpillar.skin-shark {
    filter: hue-rotate(200deg) saturate(1.3) brightness(0.9);
}

.caterpillar.skin-skull {
    filter: grayscale(0.5) brightness(0.8) contrast(1.2);
    animation: skullPulse 2s ease-in-out infinite;
}
@keyframes skullPulse {
    0%, 100% { filter: grayscale(0.5) brightness(0.8); }
    50% { filter: grayscale(0.3) brightness(1); }
}

.caterpillar.skin-phoenix {
    filter: sepia(0.5) saturate(2) hue-rotate(-10deg) brightness(1.2);
    animation: phoenixFire 0.5s ease-in-out infinite;
}
@keyframes phoenixFire {
    0%, 100% { filter: sepia(0.5) saturate(2) hue-rotate(-10deg) brightness(1.2); }
    50% { filter: sepia(0.5) saturate(2.5) hue-rotate(0deg) brightness(1.4); }
}

/* Mythic skin full transformation - Dragon */
.caterpillar.skin-dragon {
    filter: hue-rotate(15deg) saturate(2) brightness(1.1);
    animation: dragonTransform 2s ease-in-out infinite;
}
@keyframes dragonTransform {
    0%, 100% { transform: scale(1); filter: hue-rotate(15deg) saturate(2) brightness(1.1); }
    50% { transform: scale(1.08); filter: hue-rotate(30deg) saturate(2.5) brightness(1.3); }
}

/* Head animations */
@keyframes mythicHeadGlow {
    0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        filter: drop-shadow(0 0 20px gold) drop-shadow(0 0 40px magenta);
    }
    50% { 
        transform: translate(-50%, -50%) scale(1.1);
        filter: drop-shadow(0 0 30px cyan) drop-shadow(0 0 50px gold);
    }
}

@keyframes legendaryHeadPulse {
    0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        filter: drop-shadow(0 0 15px rgba(255,255,255,0.8));
    }
    50% { 
        transform: translate(-50%, -50%) scale(1.05);
        filter: drop-shadow(0 0 25px rgba(255,0,255,0.8));
    }
}

/* ==================== FLOATING ELEMENTS ==================== */
.floating-elements {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
    z-index: 1;
}

.floating-item {
    position: absolute;
    animation: floatUpBackground 15s linear infinite;
    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
}

@keyframes floatUpBackground {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
    }
    5% {
        opacity: 0.7;
    }
    95% {
        opacity: 0.7;
    }
    100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
    }
}

/* ==================== BACKGROUNDS - PSYCHEDELIC EDITION ==================== */

/* TEA PARTY - Mad Hatter vibes */
.trippy-bg.bg-teaparty {
    background: 
        radial-gradient(ellipse at 20% 80%, rgba(128, 0, 128, 0.4) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 20%, rgba(75, 0, 130, 0.4) 0%, transparent 50%),
        linear-gradient(135deg, #2d1b4e 0%, #4a2c6a 50%, #2d1b4e 100%);
    animation: teapartyPulse 8s ease-in-out infinite;
}
@keyframes teapartyPulse {
    0%, 100% { filter: hue-rotate(0deg) brightness(1); }
    50% { filter: hue-rotate(20deg) brightness(1.1); }
}

/* QUEEN'S GARDEN - Rose red */
.trippy-bg.bg-garden {
    background: 
        radial-gradient(circle at 30% 70%, rgba(255, 0, 0, 0.3) 0%, transparent 40%),
        radial-gradient(circle at 70% 30%, rgba(255, 100, 100, 0.2) 0%, transparent 40%),
        linear-gradient(135deg, #1a0505 0%, #3d0a0a 50%, #1a0505 100%);
    animation: gardenBloom 10s ease-in-out infinite;
}
@keyframes gardenBloom {
    0%, 100% { filter: saturate(1) brightness(1); }
    50% { filter: saturate(1.3) brightness(1.1); }
}

/* MUSHROOM FOREST - Trippy greens */
.trippy-bg.bg-mushforest {
    background: 
        radial-gradient(ellipse at 25% 75%, rgba(0, 255, 100, 0.2) 0%, transparent 50%),
        radial-gradient(ellipse at 75% 25%, rgba(100, 255, 0, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(255, 0, 255, 0.1) 0%, transparent 60%),
        linear-gradient(135deg, #0a1a0a 0%, #1a3d1a 50%, #0a1a0a 100%);
    animation: mushGlow 6s ease-in-out infinite;
}
@keyframes mushGlow {
    0%, 100% { filter: hue-rotate(0deg) brightness(1); }
    33% { filter: hue-rotate(30deg) brightness(1.2); }
    66% { filter: hue-rotate(-20deg) brightness(1.1); }
}

/* RABBIT HOLE - Falling into the void */
.trippy-bg.bg-rabbithole {
    background: 
        radial-gradient(circle at 50% 0%, rgba(128, 0, 255, 0.5) 0%, transparent 60%),
        radial-gradient(circle at 50% 100%, rgba(0, 0, 0, 1) 0%, transparent 50%),
        linear-gradient(180deg, #1a0030 0%, #0a0015 50%, #000000 100%);
    animation: fallingHole 3s linear infinite;
}
@keyframes fallingHole {
    0% { background-position: 0 0; }
    100% { background-position: 0 100px; }
}

/* CHESSBOARD - Trippy chess with moving squares */
.trippy-bg.bg-chessboard {
    background: 
        repeating-conic-gradient(from 0deg at 50% 50%, 
            rgba(255,255,255,0.1) 0deg 90deg, 
            rgba(0,0,0,0.3) 90deg 180deg),
        radial-gradient(circle at 50% 50%, rgba(128, 0, 255, 0.3) 0%, transparent 70%),
        linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 50%, #1a1a1a 100%);
    background-size: 60px 60px, 100% 100%, 100% 100%;
    animation: chessRotate 20s linear infinite;
}
@keyframes chessRotate {
    0% { filter: hue-rotate(0deg); }
    100% { filter: hue-rotate(360deg); }
}

/* SPACE - Galaxy trip */
.trippy-bg.bg-space {
    background: 
        radial-gradient(circle at 20% 30%, rgba(100, 100, 255, 0.4) 0%, transparent 30%),
        radial-gradient(circle at 80% 70%, rgba(255, 100, 255, 0.3) 0%, transparent 30%),
        radial-gradient(circle at 50% 50%, rgba(0, 255, 255, 0.2) 0%, transparent 50%),
        linear-gradient(135deg, #000020 0%, #000040 50%, #000010 100%);
    animation: galaxySpin 30s linear infinite;
}
@keyframes galaxySpin {
    0% { filter: hue-rotate(0deg) brightness(1); }
    50% { filter: hue-rotate(180deg) brightness(1.2); }
    100% { filter: hue-rotate(360deg) brightness(1); }
}

/* UNDERWATER - Deep sea */
.trippy-bg.bg-underwater {
    background: 
        radial-gradient(ellipse at 50% 0%, rgba(0, 200, 255, 0.3) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 100%, rgba(0, 50, 100, 0.8) 0%, transparent 50%),
        linear-gradient(180deg, #002030 0%, #004060 50%, #001020 100%);
    animation: underwaterWave 8s ease-in-out infinite;
}
@keyframes underwaterWave {
    0%, 100% { filter: brightness(1) hue-rotate(0deg); }
    50% { filter: brightness(1.1) hue-rotate(10deg); }
}

/* CANDY LAND - Sweet colors */
.trippy-bg.bg-candyland {
    background: 
        radial-gradient(circle at 20% 20%, rgba(255, 100, 200, 0.4) 0%, transparent 40%),
        radial-gradient(circle at 80% 80%, rgba(100, 255, 200, 0.3) 0%, transparent 40%),
        radial-gradient(circle at 50% 50%, rgba(255, 255, 100, 0.2) 0%, transparent 50%),
        linear-gradient(135deg, #3d1a3d 0%, #5a2d5a 50%, #3d1a3d 100%);
    animation: candyPop 5s ease-in-out infinite;
}
@keyframes candyPop {
    0%, 100% { filter: saturate(1.2) brightness(1); }
    50% { filter: saturate(1.5) brightness(1.2); }
}

/* LOOKING GLASS - Mirror dimension */
.trippy-bg.bg-mirror {
    background: 
        repeating-linear-gradient(45deg, 
            rgba(255,255,255,0.03) 0px, 
            rgba(255,255,255,0.03) 2px,
            transparent 2px, 
            transparent 10px),
        radial-gradient(circle at 50% 50%, rgba(200, 200, 255, 0.2) 0%, transparent 60%),
        linear-gradient(135deg, #1a1a2d 0%, #2d2d4a 50%, #1a1a2d 100%);
    animation: mirrorShimmer 4s ease-in-out infinite;
}
@keyframes mirrorShimmer {
    0%, 100% { filter: brightness(1) contrast(1); }
    50% { filter: brightness(1.2) contrast(1.1); }
}

/* CLOCKWORK - Steampunk gears */
.trippy-bg.bg-clockwork {
    background: 
        radial-gradient(circle at 30% 30%, rgba(255, 200, 100, 0.3) 0%, transparent 40%),
        radial-gradient(circle at 70% 70%, rgba(200, 150, 50, 0.2) 0%, transparent 40%),
        linear-gradient(135deg, #2d1a0a 0%, #4a2d1a 50%, #2d1a0a 100%);
    animation: clockTick 2s steps(12) infinite;
}
@keyframes clockTick {
    0% { filter: sepia(0.3) hue-rotate(0deg); }
    100% { filter: sepia(0.3) hue-rotate(30deg); }
}

/* AURORA - Northern lights */
.trippy-bg.bg-aurora {
    background: 
        radial-gradient(ellipse at 50% 0%, rgba(0, 255, 150, 0.4) 0%, transparent 50%),
        radial-gradient(ellipse at 30% 30%, rgba(100, 0, 255, 0.3) 0%, transparent 40%),
        radial-gradient(ellipse at 70% 50%, rgba(0, 200, 255, 0.3) 0%, transparent 40%),
        linear-gradient(180deg, #0a1020 0%, #102030 50%, #0a1020 100%);
    animation: auroraFlow 10s ease-in-out infinite;
}
@keyframes auroraFlow {
    0%, 100% { filter: hue-rotate(0deg) brightness(1); }
    33% { filter: hue-rotate(30deg) brightness(1.2); }
    66% { filter: hue-rotate(-20deg) brightness(1.1); }
}

/* PURE PSYCHEDELIC - Maximum trip */
.trippy-bg.bg-psychedelic {
    background: 
        conic-gradient(from 0deg at 50% 50%, 
            #ff0080, #ff8000, #ffff00, #80ff00, 
            #00ff80, #00ffff, #0080ff, #8000ff, #ff0080);
    animation: psychedelicSpin 5s linear infinite;
    filter: blur(30px) brightness(0.5);
}
@keyframes psychedelicSpin {
    0% { filter: blur(30px) brightness(0.5) hue-rotate(0deg); }
    100% { filter: blur(30px) brightness(0.5) hue-rotate(360deg); }
}

/* THE VOID - Darkness */
.trippy-bg.bg-void {
    background: 
        radial-gradient(circle at 50% 50%, rgba(50, 0, 100, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 30% 70%, rgba(100, 0, 50, 0.2) 0%, transparent 40%),
        #000000;
    animation: voidPulse 8s ease-in-out infinite;
}
@keyframes voidPulse {
    0%, 100% { filter: brightness(0.8); }
    50% { filter: brightness(1.2); }
}

/* HAUNTED FOREST - Spooky */
.trippy-bg.bg-haunted {
    background: 
        radial-gradient(ellipse at 20% 90%, rgba(0, 100, 0, 0.3) 0%, transparent 40%),
        radial-gradient(ellipse at 80% 90%, rgba(0, 80, 0, 0.3) 0%, transparent 40%),
        radial-gradient(circle at 50% 20%, rgba(100, 0, 100, 0.2) 0%, transparent 50%),
        linear-gradient(180deg, #0a0a1a 0%, #0d1a0d 30%, #0a0f0a 60%, #050505 100%);
    animation: hauntedFog 10s ease-in-out infinite;
}
@keyframes hauntedFog {
    0%, 100% { filter: brightness(0.8) hue-rotate(0deg); }
    50% { filter: brightness(1) hue-rotate(10deg); }
}

/* STARFIELD - Beautiful night sky */
.trippy-bg.bg-starfield {
    background: 
        radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.8) 0%, transparent 1%),
        radial-gradient(circle at 30% 40%, rgba(255, 255, 255, 0.6) 0%, transparent 0.5%),
        radial-gradient(circle at 50% 10%, rgba(255, 255, 255, 0.9) 0%, transparent 1%),
        radial-gradient(circle at 70% 60%, rgba(255, 255, 255, 0.7) 0%, transparent 0.5%),
        radial-gradient(circle at 90% 30%, rgba(255, 255, 255, 0.8) 0%, transparent 1%),
        radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.5) 0%, transparent 0.5%),
        radial-gradient(circle at 60% 90%, rgba(255, 255, 255, 0.6) 0%, transparent 1%),
        radial-gradient(circle at 80% 80%, rgba(100, 100, 255, 0.3) 0%, transparent 30%),
        radial-gradient(circle at 20% 30%, rgba(255, 100, 255, 0.2) 0%, transparent 30%),
        linear-gradient(180deg, #000010 0%, #000020 50%, #000015 100%);
    animation: starfieldTwinkle 5s ease-in-out infinite;
}
@keyframes starfieldTwinkle {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.1); }
}
